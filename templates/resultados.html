<!-- templates/resultados.html -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Resultado da Classificação</title>

  <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
  <style>
    .table-wrap { overflow-x: auto; }
    table { white-space: nowrap; }
  </style>
</head>
<body class="grey lighten-4">
  <div class="container" style="margin-top: 2rem;">
    <div class="card">
      <div class="card-content">
        <span class="card-title">Resultado da Classificação</span>

        {% if message %}
          <p class="blue-text text-darken-2" style="margin-top: .5rem;">{{ message }}</p>
        {% endif %}

        {% if meta and (meta.nome_pesquisa or meta.data_pesquisa) %}
          <p class="grey-text">Pesquisa: {{ meta.nome_pesquisa or '-' }} • Data: {{ meta.data_pesquisa or '-' }}</p>
        {% endif %}

        {% if row_count is defined %}
          <p class="grey-text">
            Total de linhas: <strong>{{ row_count }}</strong>
            {% if shown_rows and shown_rows < row_count %}
              (mostrando as primeiras {{ shown_rows }})
            {% endif %}
          </p>
        {% endif %}

        {% if table_html %}
          <div class="table-wrap">
            {{ table_html | safe }}
          </div>
        {% else %}
          <p class="grey-text">Nenhuma linha para exibir.</p>
        {% endif %}
      </div>

      <div class="card-action">
        <a href="/" class="btn waves-effect">Voltar</a>
      </div>
    </div>
  </div>
</body>
</html>